import{d as c}from"./app-DlGd_NOW.js";import{b as i}from"./UiParentCard.vue_vue_type_script_setup_true_lang-BfSscY-T.js";const u=c({id:"JobExecution",state:()=>({loading:!1,jobExecution:{},jobExecutions:[],jobExecutionsLogs:[],jobsAvailable:[],totalItems:0}),getters:{},actions:{async getJobsAvailable(){this.loading=!0;try{const t=await i.get("jobs-available");return this.jobsAvailable=t.data.jobsAvailable,t}catch(t){throw console.error("Error fetching jobs available:",t),t}finally{this.loading=!1}},async getJobExecutions({projectId:t,page:e,itemsPerPage:a,search:r,sortColumn:s,sortDirection:n}){this.loading=!0;try{const o=await i.get("job-executions/"+t,{params:{page:e,per_page:a,search:r,sortColumn:s,sortDirection:n}});return this.jobExecutions=o.data.data,this.totalItems=o.data.total,o}catch(o){throw console.error("Error fetching job executions:",o),o}finally{this.loading=!1}},async getJobExecutionsLogs({jobExecutionId:t,page:e,itemsPerPage:a,search:r,sortColumn:s,sortDirection:n}){this.loading=!0;try{const o=await i.get("job-executions/logs/"+t,{params:{page:e,per_page:a,search:r,sortColumn:s,sortDirection:n}});return this.jobExecutionsLogs=o.data.data,this.totalItems=o.data.total,o}catch(o){throw console.error("Error fetching job executions logs:",o),o}finally{this.loading=!1}},async getJobExecutionById(t){this.loading=!0;try{const e=await i.get("job-executions/show/"+t);return this.jobExecution=e.data.jobExecution,e}catch(e){throw console.error("Error fetching the job execution:",e),e}finally{this.loading=!1}},async executeJob(t,e,a,r){this.loading=!0;try{return{success:!0,jobExecution:(await i.post("execute-job/"+t,{job:e,name:a,params:r})).data.jobExecution}}catch(s){throw console.error("Error executing job:",s),s}finally{this.loading=!1}},reset(){this.jobExecution={},this.jobExecutions=[],this.jobExecutionsLogs=[],this.jobsAvailable=[],this.totalItems=0}}});export{u};
